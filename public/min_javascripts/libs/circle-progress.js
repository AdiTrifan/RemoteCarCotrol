/*! Wireless_Car_Control - v1.0.0 - 2017-06-26 */
!function($){function CircleProgress(config){this.init(config)}CircleProgress.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",constructor:CircleProgress,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(config){$.extend(this,config),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw()},initWidget:function(){var canvas=this.canvas=this.canvas||$("<canvas>").prependTo(this.el)[0];canvas.width=this.size,canvas.height=this.size,this.ctx=canvas.getContext("2d")},initFill:function(){function setImageFill(){var bg=$("<canvas>")[0];bg.width=self.size,bg.height=self.size,bg.getContext("2d").drawImage(img,0,0,size,size),self.arcFill=self.ctx.createPattern(bg,"no-repeat"),self.drawFrame(self.lastFrameValue)}var self=this,fill=this.fill,ctx=this.ctx,size=this.size;if(!fill)throw Error("The fill is not specified!");if(fill.color&&(this.arcFill=fill.color),fill.gradient){var gr=fill.gradient;if(1==gr.length)this.arcFill=gr[0];else if(gr.length>1){for(var ga=fill.gradientAngle||0,gd=fill.gradientDirection||[size/2*(1-Math.cos(ga)),size/2*(1+Math.sin(ga)),size/2*(1+Math.cos(ga)),size/2*(1-Math.sin(ga))],lg=ctx.createLinearGradient.apply(ctx,gd),i=0;i<gr.length;i++){var color=gr[i],pos=i/(gr.length-1);$.isArray(color)&&(pos=color[1],color=color[0]),lg.addColorStop(pos,color)}this.arcFill=lg}}if(fill.image){var img;fill.image instanceof Image?img=fill.image:(img=new Image,img.src=fill.image),img.complete?setImageFill():img.onload=setImageFill}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(v){this.lastFrameValue=v,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(v),this.drawArc(v)},drawArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;ctx.save(),ctx.beginPath(),this.reverse?ctx.arc(r,r,r-t/2,a-2*Math.PI*v,a):ctx.arc(r,r,r-t/2,a,a+2*Math.PI*v),ctx.lineWidth=t,ctx.lineCap=this.lineCap,ctx.strokeStyle=this.arcFill,ctx.stroke(),ctx.restore()},drawEmptyArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;v<1&&(ctx.save(),ctx.beginPath(),v<=0?ctx.arc(r,r,r-t/2,0,2*Math.PI):this.reverse?ctx.arc(r,r,r-t/2,a,a-2*Math.PI*v):ctx.arc(r,r,r-t/2,a+2*Math.PI*v,a),ctx.lineWidth=t,ctx.strokeStyle=this.emptyFill,ctx.stroke(),ctx.restore())},drawAnimated:function(v){var self=this,el=this.el;el.trigger("circle-animation-start"),$(this.canvas).stop(!0,!0).css({animationProgress:0}).animate({animationProgress:1},$.extend({},this.animation,{step:function(animationProgress){var stepValue=self.animationStartValue*(1-animationProgress)+v*animationProgress;self.drawFrame(stepValue),el.trigger("circle-animation-progress",[animationProgress,stepValue])},complete:function(){el.trigger("circle-animation-end")}}))},getThickness:function(){return $.isNumeric(this.thickness)?this.thickness:this.size/14}},$.circleProgress={defaults:CircleProgress.prototype},$.easing.circleProgressEasing=function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},$.fn.circleProgress=function(config){var dataName="circle-progress";if("widget"==config){var data=this.data(dataName);return data&&data.canvas}return this.each(function(){var el=$(this),instance=el.data(dataName),cfg=$.isPlainObject(config)?config:{};instance?instance.init(cfg):(cfg.el=el,instance=new CircleProgress(cfg),el.data(dataName,instance))})}}(jQuery);
//# sourceMappingURL=circle-progress.js.map